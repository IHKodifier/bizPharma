# ============================================================================
# CREATE BUSINESS
# ============================================================================

mutation CreateBusiness(
  $name: String!
  $tier: BusinessTier!
  $subscriptionStartDate: Date!
  $subscriptionEndDate: Date
  $maxUsers: Int

  $maxLocations: Int
  $logo: String
  $banner: String
  $phone: String
) @auth(level: USER, insecureReason: "Business creation is allowed for authenticated users during initial setup") {
  business_insert(data: {
    name: $name
    tier: $tier
    subscriptionStartDate: $subscriptionStartDate
    subscriptionEndDate: $subscriptionEndDate
    maxUsers: $maxUsers
    maxLocations: $maxLocations
    logo: $logo
    banner: $banner
    phone: $phone
    isActive: true
  })
}

