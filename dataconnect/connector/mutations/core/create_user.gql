# ============================================================================
# CREATE USER
# ============================================================================

mutation CreateUser(
  $id: String!
  $businessId: UUID!
  $email: String!
  $firstName: String!
  $lastName: String!
  $mobile: String!
  $role: UserRole!
  $permissions: [String!]
) @auth(level: PUBLIC, insecureReason: "User creation is allowed for any authenticated user (including anonymous) during initial setup or invitation flow") {
  user_insert(data: {
    id: $id
    businessId: $businessId
    email: $email
    firstName: $firstName
    lastName: $lastName
    mobile: $mobile
    role: $role
    permissions: $permissions
    isActive: true
  })
}

